eval_mod10 <- glance(lm_gamma_bact_2016_tmean)
eval_mod11 <- glance(lm_gamma_bact_2017_tmean)
eval_mod12 <- glance(lm_gamma_bact_2018_tmean)
eval_mod13 <- glance(lm_gamma_bact_mean_tsd)
eval_mod14 <- glance(lm_gamma_bact_2016_tsd)
eval_mod15 <- glance(lm_gamma_bact_2017_tsd)
eval_mod16 <- glance(lm_gamma_bact_2018_tsd)
# Phytoplankton
eval_mod17 <- glance(lm_gamma_phyto_mean_tmean)
eval_mod18 <- glance(lm_gamma_phyto_2016_tmean)
eval_mod19 <- glance(lm_gamma_phyto_2017_tmean)
eval_mod20 <- glance(lm_gamma_phyto_2018_tmean)
eval_mod21 <- glance(lm_gamma_phyto_mean_tsd)
eval_mod22 <- glance(lm_gamma_phyto_2016_tsd)
eval_mod23 <- glance(lm_gamma_phyto_2017_tsd)
eval_mod24 <- glance(lm_gamma_phyto_2018_tsd)
# Zooplankton
eval_mod25 <- glance(lm_gamma_zoo_mean_tmean)
eval_mod26 <- glance(lm_gamma_zoo_2016_tmean)
eval_mod27 <- glance(lm_gamma_zoo_2017_tmean)
eval_mod28 <- glance(lm_gamma_zoo_2018_tmean)
eval_mod29 <- glance(lm_gamma_zoo_mean_tsd)
eval_mod30 <- glance(lm_gamma_zoo_2016_tsd)
eval_mod31 <- glance(lm_gamma_zoo_2017_tsd)
eval_mod32 <- glance(lm_gamma_zoo_2018_tsd)
# Macroinvertebrates
eval_mod33 <- glance(lm_gamma_macro_mean_tmean)
eval_mod34 <- glance(lm_gamma_macro_2016_tmean)
eval_mod35 <- glance(lm_gamma_macro_2017_tmean)
eval_mod36 <- glance(lm_gamma_macro_2018_tmean)
eval_mod37 <- glance(lm_gamma_macro_mean_tsd)
eval_mod38 <- glance(lm_gamma_macro_2016_tsd)
eval_mod39 <- glance(lm_gamma_macro_2017_tsd)
eval_mod40 <- glance(lm_gamma_macro_2018_tsd)
# Whole-community
eval_mod41 <- glance(lm_alpha_wc_mean_tmean)
eval_mod42 <- glance(lm_alpha_wc_2016_tmean)
eval_mod43 <- glance(lm_alpha_wc_2017_tmean)
eval_mod44 <- glance(lm_alpha_wc_2018_tmean)
eval_mod45 <- glance(lm_alpha_wc_mean_tsd)
eval_mod46 <- glance(lm_alpha_wc_2016_tsd)
eval_mod47 <- glance(lm_alpha_wc_2017_tsd)
eval_mod48 <- glance(lm_alpha_wc_2018_tsd)
# Bacteria
eval_mod49 <- glance(lm_alpha_bact_mean_tmean)
eval_mod50 <- glance(lm_alpha_bact_2016_tmean)
eval_mod51 <- glance(lm_alpha_bact_2017_tmean)
eval_mod52 <- glance(lm_alpha_bact_2018_tmean)
eval_mod53 <- glance(lm_alpha_bact_mean_tsd)
eval_mod54 <- glance(lm_alpha_bact_2016_tsd)
eval_mod55 <- glance(lm_alpha_bact_2017_tsd)
eval_mod56 <- glance(lm_alpha_bact_2018_tsd)
# Phytoplankton
eval_mod57 <- glance(lm_alpha_phyto_mean_tmean)
eval_mod58 <- glance(lm_alpha_phyto_2016_tmean)
eval_mod59 <- glance(lm_alpha_phyto_2017_tmean)
eval_mod60 <- glance(lm_alpha_phyto_2018_tmean)
eval_mod61 <- glance(lm_alpha_phyto_mean_tsd)
eval_mod62 <- glance(lm_alpha_phyto_2016_tsd)
eval_mod63 <- glance(lm_alpha_phyto_2017_tsd)
eval_mod64 <- glance(lm_alpha_phyto_2018_tsd)
# Zooplankton
eval_mod65 <- glance(lm_alpha_zoo_mean_tmean)
eval_mod66 <- glance(lm_alpha_zoo_2016_tmean)
eval_mod67 <- glance(lm_alpha_zoo_2017_tmean)
eval_mod68 <- glance(lm_alpha_zoo_2018_tmean)
eval_mod69 <- glance(lm_alpha_zoo_mean_tsd)
eval_mod70 <- glance(lm_alpha_zoo_2016_tsd)
eval_mod71 <- glance(lm_alpha_zoo_2017_tsd)
eval_mod72 <- glance(lm_alpha_zoo_2018_tsd)
# Macroinvertebrates
eval_mod73 <- glance(lm_alpha_macro_mean_tmean)
eval_mod74 <- glance(lm_alpha_macro_2016_tmean)
eval_mod75 <- glance(lm_alpha_macro_2017_tmean)
eval_mod76 <- glance(lm_alpha_macro_2018_tmean)
eval_mod77 <- glance(lm_alpha_macro_mean_tsd)
eval_mod78 <- glance(lm_alpha_macro_2016_tsd)
eval_mod79 <- glance(lm_alpha_macro_2017_tsd)
eval_mod80 <- glance(lm_alpha_macro_2018_tsd)
# Whole-community
eval_mod81 <- glance(lm_beta_wc_mean_tmean)
eval_mod82 <- glance(lm_beta_wc_2016_tmean)
eval_mod83 <- glance(lm_beta_wc_2017_tmean)
eval_mod84 <- glance(lm_beta_wc_2018_tmean)
eval_mod85 <- glance(lm_beta_wc_mean_tsd)
eval_mod86 <- glance(lm_beta_wc_2016_tsd)
eval_mod87 <- glance(lm_beta_wc_2017_tsd)
eval_mod88 <- glance(lm_beta_wc_2018_tsd)
# Bacteria
eval_mod89 <- glance(lm_beta_bact_mean_tmean)
eval_mod90 <- glance(lm_beta_bact_2016_tmean)
eval_mod91 <- glance(lm_beta_bact_2017_tmean)
eval_mod92 <- glance(lm_beta_bact_2018_tmean)
eval_mod93 <- glance(lm_beta_bact_mean_tsd)
eval_mod94 <- glance(lm_beta_bact_2016_tsd)
eval_mod95 <- glance(lm_beta_bact_2017_tsd)
eval_mod96 <- glance(lm_beta_bact_2018_tsd)
# Phytoplankton
eval_mod97 <- glance(lm_beta_phyto_mean_tmean)
eval_mod98 <- glance(lm_beta_phyto_2016_tmean)
eval_mod99 <- glance(lm_beta_phyto_2017_tmean)
eval_mod100 <- glance(lm_beta_phyto_2018_tmean)
eval_mod101 <- glance(lm_beta_phyto_mean_tsd)
eval_mod102 <- glance(lm_beta_phyto_2016_tsd)
eval_mod103 <- glance(lm_beta_phyto_2017_tsd)
eval_mod104 <- glance(lm_beta_phyto_2018_tsd)
# Zooplankton
eval_mod105 <- glance(lm_beta_zoo_mean_tmean)
eval_mod106 <- glance(lm_beta_zoo_2016_tmean)
eval_mod107 <- glance(lm_beta_zoo_2017_tmean)
eval_mod108 <- glance(lm_beta_zoo_2018_tmean)
eval_mod109 <- glance(lm_beta_zoo_mean_tsd)
eval_mod110 <- glance(lm_beta_zoo_2016_tsd)
eval_mod111 <- glance(lm_beta_zoo_2017_tsd)
eval_mod112 <- glance(lm_beta_zoo_2018_tsd)
# Macroinvertebrates
eval_mod113 <- glance(lm_beta_macro_mean_tmean)
eval_mod114 <- glance(lm_beta_macro_2016_tmean)
eval_mod115 <- glance(lm_beta_macro_2017_tmean)
eval_mod116 <- glance(lm_beta_macro_2018_tmean)
eval_mod117 <- glance(lm_beta_macro_mean_tsd)
eval_mod118 <- glance(lm_beta_macro_2016_tsd)
eval_mod119 <- glance(lm_beta_macro_2017_tsd)
eval_mod120 <- glance(lm_beta_macro_2018_tsd)
# Whole-community
eval_mod121 <- glance(qd_gamma_wc_mean_tmean)
eval_mod122 <- glance(qd_gamma_wc_2016_tmean)
eval_mod123 <- glance(qd_gamma_wc_2017_tmean)
eval_mod124 <- glance(qd_gamma_wc_2018_tmean)
eval_mod125 <- glance(qd_gamma_wc_mean_tsd)
eval_mod126 <- glance(qd_gamma_wc_2016_tsd)
eval_mod127 <- glance(qd_gamma_wc_2017_tsd)
eval_mod128 <- glance(qd_gamma_wc_2018_tsd)
# Bacteria
eval_mod129 <- glance(qd_gamma_bact_mean_tmean)
eval_mod130 <- glance(qd_gamma_bact_2016_tmean)
eval_mod131 <- glance(qd_gamma_bact_2017_tmean)
eval_mod132 <- glance(qd_gamma_bact_2018_tmean)
eval_mod133 <- glance(qd_gamma_bact_mean_tsd)
eval_mod134 <- glance(qd_gamma_bact_2016_tsd)
eval_mod135 <- glance(qd_gamma_bact_2017_tsd)
eval_mod136 <- glance(qd_gamma_bact_2018_tsd)
# Phytoplankton
eval_mod137 <- glance(qd_gamma_phyto_mean_tmean)
eval_mod138 <- glance(qd_gamma_phyto_2016_tmean)
eval_mod139 <- glance(qd_gamma_phyto_2017_tmean)
eval_mod140 <- glance(qd_gamma_phyto_2018_tmean)
eval_mod141 <- glance(qd_gamma_phyto_mean_tsd)
eval_mod142 <- glance(qd_gamma_phyto_2016_tsd)
eval_mod143 <- glance(qd_gamma_phyto_2017_tsd)
eval_mod144 <- glance(qd_gamma_phyto_2018_tsd)
# Zooplankton
eval_mod145 <- glance(qd_gamma_zoo_mean_tmean)
eval_mod146 <- glance(qd_gamma_zoo_2016_tmean)
eval_mod147 <- glance(qd_gamma_zoo_2017_tmean)
eval_mod148 <- glance(qd_gamma_zoo_2018_tmean)
eval_mod149 <- glance(qd_gamma_zoo_mean_tsd)
eval_mod150 <- glance(qd_gamma_zoo_2016_tsd)
eval_mod151 <- glance(qd_gamma_zoo_2017_tsd)
eval_mod152 <- glance(qd_gamma_zoo_2018_tsd)
# Macroinvertebrates
eval_mod153 <- glance(qd_gamma_macro_mean_tmean)
eval_mod154 <- glance(qd_gamma_macro_2016_tmean)
eval_mod155 <- glance(qd_gamma_macro_2017_tmean)
eval_mod156 <- glance(qd_gamma_macro_2018_tmean)
eval_mod157 <- glance(qd_gamma_macro_mean_tsd)
eval_mod158 <- glance(qd_gamma_macro_2016_tsd)
eval_mod159 <- glance(qd_gamma_macro_2017_tsd)
eval_mod160 <- glance(qd_gamma_macro_2018_tsd)
# Whole-community
eval_mod161 <- glance(qd_alpha_wc_mean_tmean)
eval_mod162 <- glance(qd_alpha_wc_2016_tmean)
eval_mod163 <- glance(qd_alpha_wc_2017_tmean)
eval_mod164 <- glance(qd_alpha_wc_2018_tmean)
eval_mod165 <- glance(qd_alpha_wc_mean_tsd)
eval_mod166 <- glance(qd_alpha_wc_2016_tsd)
eval_mod167 <- glance(qd_alpha_wc_2017_tsd)
eval_mod168 <- glance(qd_alpha_wc_2018_tsd)
# Bacteria
eval_mod169 <- glance(qd_alpha_bact_mean_tmean)
eval_mod170 <- glance(qd_alpha_bact_2016_tmean)
eval_mod171 <- glance(qd_alpha_bact_2017_tmean)
eval_mod172 <- glance(qd_alpha_bact_2018_tmean)
eval_mod173 <- glance(qd_alpha_bact_mean_tsd)
eval_mod174 <- glance(qd_alpha_bact_2016_tsd)
eval_mod175 <- glance(qd_alpha_bact_2017_tsd)
eval_mod176 <- glance(qd_alpha_bact_2018_tsd)
# Phytoplankton
eval_mod177 <- glance(qd_alpha_phyto_mean_tmean)
eval_mod178 <- glance(qd_alpha_phyto_2016_tmean)
eval_mod179 <- glance(qd_alpha_phyto_2017_tmean)
eval_mod180 <- glance(qd_alpha_phyto_2018_tmean)
eval_mod181 <- glance(qd_alpha_phyto_mean_tsd)
eval_mod182 <- glance(qd_alpha_phyto_2016_tsd)
eval_mod183 <- glance(qd_alpha_phyto_2017_tsd)
eval_mod184 <- glance(qd_alpha_phyto_2018_tsd)
# Zooplankton
eval_mod185 <- glance(qd_alpha_zoo_mean_tmean)
eval_mod186 <- glance(qd_alpha_zoo_2016_tmean)
eval_mod187 <- glance(qd_alpha_zoo_2017_tmean)
eval_mod188 <- glance(qd_alpha_zoo_2018_tmean)
eval_mod189 <- glance(qd_alpha_zoo_mean_tsd)
eval_mod190 <- glance(qd_alpha_zoo_2016_tsd)
eval_mod191 <- glance(qd_alpha_zoo_2017_tsd)
eval_mod192 <- glance(qd_alpha_zoo_2018_tsd)
# Macroinvertebrates
eval_mod193 <- glance(qd_alpha_macro_mean_tmean)
eval_mod194 <- glance(qd_alpha_macro_2016_tmean)
eval_mod195 <- glance(qd_alpha_macro_2017_tmean)
eval_mod196 <- glance(qd_alpha_macro_2018_tmean)
eval_mod197 <- glance(qd_alpha_macro_mean_tsd)
eval_mod198 <- glance(qd_alpha_macro_2016_tsd)
eval_mod199 <- glance(qd_alpha_macro_2017_tsd)
eval_mod200 <- glance(qd_alpha_macro_2018_tsd)
# Whole-community
eval_mod201 <- glance(qd_beta_wc_mean_tmean)
eval_mod202 <- glance(qd_beta_wc_2016_tmean)
eval_mod203 <- glance(qd_beta_wc_2017_tmean)
eval_mod204 <- glance(qd_beta_wc_2018_tmean)
eval_mod205 <- glance(qd_beta_wc_mean_tsd)
eval_mod206 <- glance(qd_beta_wc_2016_tsd)
eval_mod207 <- glance(qd_beta_wc_2017_tsd)
eval_mod208 <- glance(qd_beta_wc_2018_tsd)
# Bacteria
eval_mod209 <- glance(qd_beta_bact_mean_tmean)
eval_mod210 <- glance(qd_beta_bact_2016_tmean)
eval_mod211 <- glance(qd_beta_bact_2017_tmean)
eval_mod212 <- glance(qd_beta_bact_2018_tmean)
eval_mod213 <- glance(qd_beta_bact_mean_tsd)
eval_mod214 <- glance(qd_beta_bact_2016_tsd)
eval_mod215 <- glance(qd_beta_bact_2017_tsd)
eval_mod216 <- glance(qd_beta_bact_2018_tsd)
# Phytoplankton
eval_mod217 <- glance(qd_beta_phyto_mean_tmean)
eval_mod218 <- glance(qd_beta_phyto_2016_tmean)
eval_mod219 <- glance(qd_beta_phyto_2017_tmean)
eval_mod220 <- glance(qd_beta_phyto_2018_tmean)
eval_mod221 <- glance(qd_beta_phyto_mean_tsd)
eval_mod222 <- glance(qd_beta_phyto_2016_tsd)
eval_mod223 <- glance(qd_beta_phyto_2017_tsd)
eval_mod224 <- glance(qd_beta_phyto_2018_tsd)
# Zooplankton
eval_mod225 <- glance(qd_beta_zoo_mean_tmean)
eval_mod226 <- glance(qd_beta_zoo_2016_tmean)
eval_mod227 <- glance(qd_beta_zoo_2017_tmean)
eval_mod228 <- glance(qd_beta_zoo_2018_tmean)
eval_mod229 <- glance(qd_beta_zoo_mean_tsd)
eval_mod230 <- glance(qd_beta_zoo_2016_tsd)
eval_mod231 <- glance(qd_beta_zoo_2017_tsd)
eval_mod232 <- glance(qd_beta_zoo_2018_tsd)
# Macroinvertebrates
eval_mod233 <- glance(qd_beta_macro_mean_tmean)
eval_mod234 <- glance(qd_beta_macro_2016_tmean)
eval_mod235 <- glance(qd_beta_macro_2017_tmean)
eval_mod236 <- glance(qd_beta_macro_2018_tmean)
eval_mod237 <- glance(qd_beta_macro_mean_tsd)
eval_mod238 <- glance(qd_beta_macro_2016_tsd)
eval_mod239 <- glance(qd_beta_macro_2017_tsd)
eval_mod240 <- glance(qd_beta_macro_2018_tsd)
mods_linear <- rbind(eval_mod1, eval_mod2, eval_mod3, eval_mod4, eval_mod5, eval_mod6, eval_mod7, eval_mod8, eval_mod9, eval_mod10, eval_mod11, eval_mod12, eval_mod13,
eval_mod14, eval_mod15, eval_mod16, eval_mod17, eval_mod18, eval_mod19, eval_mod20, eval_mod21, eval_mod22, eval_mod23, eval_mod24, eval_mod25,
eval_mod26, eval_mod27, eval_mod28, eval_mod29, eval_mod30, eval_mod31, eval_mod32, eval_mod33, eval_mod34, eval_mod35, eval_mod36, eval_mod37,
eval_mod38, eval_mod39, eval_mod40, eval_mod41, eval_mod42, eval_mod43, eval_mod44, eval_mod45, eval_mod46, eval_mod47, eval_mod48, eval_mod49,
eval_mod50, eval_mod51, eval_mod52, eval_mod53, eval_mod54, eval_mod55, eval_mod56, eval_mod57, eval_mod58, eval_mod59, eval_mod60, eval_mod61,
eval_mod62, eval_mod63, eval_mod64, eval_mod65, eval_mod66, eval_mod67, eval_mod68, eval_mod69, eval_mod70, eval_mod71, eval_mod72, eval_mod73,
eval_mod74, eval_mod75, eval_mod76, eval_mod77, eval_mod78, eval_mod79, eval_mod80, eval_mod81, eval_mod82, eval_mod83, eval_mod84, eval_mod85,
eval_mod86, eval_mod87, eval_mod88, eval_mod89, eval_mod90, eval_mod91, eval_mod92, eval_mod93, eval_mod94, eval_mod95, eval_mod96, eval_mod97,
eval_mod98, eval_mod99, eval_mod100, eval_mod101, eval_mod102, eval_mod103, eval_mod104, eval_mod105, eval_mod106, eval_mod107, eval_mod108,
eval_mod109, eval_mod110, eval_mod111, eval_mod112, eval_mod113, eval_mod114, eval_mod115, eval_mod116, eval_mod117, eval_mod118, eval_mod119,
eval_mod120)
mods_quadratic <- rbind(eval_mod121, eval_mod122, eval_mod123, eval_mod124, eval_mod125, eval_mod126, eval_mod127, eval_mod128, eval_mod129, eval_mod130, eval_mod131,
eval_mod132, eval_mod133, eval_mod134, eval_mod135, eval_mod136, eval_mod137, eval_mod138, eval_mod139, eval_mod140, eval_mod141, eval_mod142,
eval_mod143, eval_mod144, eval_mod145, eval_mod146, eval_mod147, eval_mod148, eval_mod149, eval_mod150, eval_mod151, eval_mod152, eval_mod153,
eval_mod154, eval_mod155, eval_mod156, eval_mod157, eval_mod158, eval_mod159, eval_mod160, eval_mod161, eval_mod162, eval_mod163, eval_mod164,
eval_mod165, eval_mod166, eval_mod167, eval_mod168, eval_mod169, eval_mod170, eval_mod171, eval_mod172, eval_mod173, eval_mod174, eval_mod175,
eval_mod176, eval_mod177, eval_mod178, eval_mod179, eval_mod180, eval_mod181, eval_mod182, eval_mod183, eval_mod184, eval_mod185, eval_mod186,
eval_mod187, eval_mod188, eval_mod189, eval_mod190, eval_mod191, eval_mod192, eval_mod193, eval_mod194, eval_mod195, eval_mod196, eval_mod197,
eval_mod198, eval_mod199, eval_mod200, eval_mod201, eval_mod202, eval_mod203, eval_mod204, eval_mod205, eval_mod206, eval_mod207, eval_mod208,
eval_mod209, eval_mod210, eval_mod211, eval_mod212, eval_mod213, eval_mod214, eval_mod215, eval_mod216, eval_mod217, eval_mod218, eval_mod219,
eval_mod220, eval_mod221, eval_mod222, eval_mod223, eval_mod224, eval_mod225, eval_mod226, eval_mod227, eval_mod228, eval_mod229, eval_mod230,
eval_mod231, eval_mod232, eval_mod233, eval_mod234, eval_mod235, eval_mod236, eval_mod237, eval_mod238, eval_mod239, eval_mod240)
write.csv(x = mods_linear, file = paste("../03.output_data/02.linear_models_evaluation.csv", sep = ""))
write.csv(x = mods_quadratic, file = paste("../03.output_data/02.quadratic_models_evaluation.csv", sep = ""))
global_reg_div
rm(list=ls())
library(tidyverse)
library(magrittr)
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpmisc)
library(tidyquant) # theme_tq
library(ggpubr) # add correlation coefs to plots
library(knitr)
library(gridExtra)
library(directlabels) # labels at the end
library(viridis) # color
library(broom) # compare linear and quadratic models
library(ggpmisc) # for stat_poly_eq()
# community data
community.df <- read.csv("../01.input_data/hybrid_geo_fit_tax_res.csv", sep = ";", header = T)
# diversity and environmental data
load("../01.input_data/01.diversity_env_df.RData")
# estimate b-diversity = gamma/alpha
alpha_div <- div_env_df %>%
filter(scale == "alpha") %>% # dataset with only alpha
arrange(site, year, sample_code, group) # reo-order df
gamma_div <- div_env_df %>%
filter(scale == "gamma") %>% # dataset with only gamma
arrange(site, year, sample_code, group) # reo-order df
beta_sn_div <- div_env_df %>%
filter(scale == "beta") %>% # dataset with only gamma
arrange(site, year, sample_code, group) # reo-order df
beta_div <- data_frame(site = alpha_div$site,
year = alpha_div$year,
sample_code = alpha_div$sample_code,
group = alpha_div$group,
scale = "beta2",
diversity = gamma_div$diversity/alpha_div$diversity)
beta_div[ , 7:ncol(alpha_div)] <- alpha_div[ , 7:ncol(alpha_div)]
div_env_df <- rbind(alpha_div, gamma_div, beta_sn_div, beta_div)
# plot global regional diversity
global_reg_div <- global_div_env_df %>%
filter(scale == "gamma") %>%
ggplot(aes(x = group,
y = diversity, fill = group)) +
facet_grid(.~site) +
geom_bar(stat = "identity", position = "dodge", width = 0.8,
outlier.shape = NA) +
scale_fill_manual(values = color_group, name = "", labels = c("W", "B", "P", "Z", "M")) +
scale_color_manual(values = rep("black", times = 5), name = "", labels = c("W", "B", "P", "Z", "M")) +
scale_x_discrete(label = c("W", "B", "P", "Z", "M")) +
labs(x = "Trophic group", y = expression("Global "*gamma*"-diversity"), title = "") +
theme_tq() +
theme(plot.title = element_text(hjust = 0, size = 10, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, face = "italic"),
axis.text = element_text(size = 10),
axis.title = element_text(size = 10),
legend.title = element_blank(),
legend.position = "none",
legend.text = element_text(size = 10),
panel.spacing = unit(0.5, "lines"),
panel.grid.major = element_blank(),
#panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "white", size = 0.5, linetype = "solid"),
strip.text.x = element_text(size = 10, color = "black")
)
color_years <- viridis(5, option = "G", direction = 1)
# variation of mean temp along regions
meantemp_plot <- div_env_df %>%
filter(scale == "gamma") %>%
ggplot(aes(x = year, y = est_mean_temp_12M, fill = year)) +
facet_grid(.~site) +
geom_boxplot(aes(color = year), outlier.shape=NA, alpha = 0.7) +
scale_fill_manual(values = color_years, name = "Year", labels = c("Mean", "2016", "2017", "2018")) +
scale_color_manual(values = color_years, name = "Year", labels = c("Mean", "2016", "2017", "2018")) +
xlab("Year") +
ylab(bquote(Log[10]~T[Mean]~(ºC))) +
ggtitle("") +
ylim(2, 3.5) +
scale_x_discrete(label = c("Av", "16", "17", "18")) +
# geom_jitter(aes(color = year, shape = year), position = position_jitter(width=.1, height=0)) +
theme_tq() +
theme(plot.title = element_text(hjust = 0, size = 10, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, face = "italic"),
axis.text = element_text(size = 10),
axis.title = element_text(size = 10),
legend.title = element_blank(),
legend.position = "none",
legend.text = element_text(size = 10),
panel.spacing = unit(0.5, "lines"),
panel.grid.major = element_blank(),
#panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "white", size = 0.5, linetype = "solid"),
strip.text.x = element_text(size = 10, color = "black")
)
# variation of sd temp along regions
sdtemp_plot <- div_env_df %>%
filter(scale == "gamma") %>%
ggplot(aes(x = year, y = sd_temp_12M, fill = year)) +
facet_grid(.~site) +
geom_point(aes(color = year)) +
scale_fill_manual(values = color_years, name = "Year", labels = c("Mean", "2016", "2017", "2018")) +
scale_color_manual(values = color_years, name = "Year", labels = c("Mean", "2016", "2017", "2018")) +
xlab("Year") +
ylab(bquote(Log[10]~T[SD]~(ºC))) +
ggtitle("") +
# ylim(2, 3.5) +
scale_x_discrete(label = c("Av", "16", "17", "18")) +
# geom_jitter(aes(color = year, shape = year), position = position_jitter(width=.1, height=0)) +
theme_tq() +
theme(plot.title = element_text(hjust = 0, size = 10, face = "bold"),
plot.subtitle = element_text(hjust = 0.5, face = "italic"),
axis.text = element_text(size = 10),
axis.title = element_text(size = 10),
legend.title = element_blank(),
legend.position = "none",
legend.text = element_text(size = 10),
panel.spacing = unit(0.5, "lines"),
panel.grid.major = element_blank(),
#panel.grid.minor = element_blank(),
strip.background = element_rect(fill = "white", size = 0.5, linetype = "solid"),
strip.text.x = element_text(size = 10, color = "black")
)
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/FIGURE_1_Accumulated regional diversity.pdf",
plot = div_temp,
dpi = 300, width = 100, height = 40, units = "mm"
)
div_temp <- ggarrange(
ggarrange(meantemp_plot, sdtemp_plot,
nrow = 2, labels = c("A", "B"),
font.label = list(size = 10)),
ggarrange(global_reg_div, labels = "C", font.label = list(size = 10)),
ncol = 2)
div_temp
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/FIGURE_1_Accumulated regional diversity.pdf",
plot = div_temp,
dpi = 300, width = 100, height = 40, units = "mm"
)
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/FIGURE_1_Accumulated regional diversity.pdf",
plot = div_temp,
dpi = 300, width = 10, height = 4, units = "in"
)
div_temp <- ggarrange(
ggarrange(meantemp_plot, sdtemp_plot,
nrow = 2, labels = c("A", "B"),
font.label = list(size = 10)),
ggarrange(global_reg_div, labels = "C", font.label = list(size = 10)),
ncol = 2)
div_temp
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/Figure 2.Regional climate and accumulated diversity across the Iberian Pond Network.pdf",
plot = div_temp,
dpi = 300, width = 10, height = 4, units = "in"
)
div_temp <- ggarrange(
ggarrange(meantemp_plot, sdtemp_plot,
nrow = 2, labels = c("A", "B"),
font.label = list(size = 10)),
ggarrange(global_reg_div, labels = "C", font.label = list(size = 10)),
ncol = 2)
div_temp
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/Figure 2_Regional climate and accumulated diversity across the Iberian Pond Network.pdf",
plot = div_temp,
dpi = 300, width = 10, height = 4, units = "in"
)
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/Figure 2_Regional climate and accumulated diversity across the Iberian Pond Network.png",
plot = div_temp,
dpi = 300, width = 10, height = 4, units = "in"
)
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/Figure_2_Regional climate and accumulated diversity across the Iberian Pond Network.png",
plot = div_temp,
dpi = 300, width = 10, height = 4, units = "in"
)
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/Figure_2_Regional_climate_accumulated_diversity.png",
plot = div_temp,
dpi = 300, width = 10, height = 4, units = "in"
)
![Diversity Patterns](../figures/Figure_2_Regional_climate_accumulated_diversity.png)
# --------------------------------------------
# Export figure to file
# --------------------------------------------
ggsave(
"../figures/Figure_2_Regional_climate_accumulated_diversity.png",
plot = div_temp,
dpi = 300, width = 10, height = 4, units = "in"
)
community.df <- read.csv("../01.input_data/hybrid_geo_fit_tax_res.csv", sep = ";", header = T)
# diversity and environmental data
load("../01.input_data/01.diversity_env_df.RData")
View(community.df)
View(div_df)
View(div_env_df)
View(environmental_data)
View(global_div_env_df)
View(global_rarefaction_df)
View(rarefaction_df)
View(stats_tests)
View(community.df)
View(stats_tests)
View(div_env_df)
